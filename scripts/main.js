"use strict";var app=angular.module("CalculatorApp",["ngMaterial"]);app.config(function($mdThemingProvider){$mdThemingProvider.theme("default").primaryPalette("grey").accentPalette("red").warnPalette("green")}),app.constant("OPERATORS",{"%":!0,"*":!0,"/":!0,"+":!0,"-":!0}),app.controller("AppCtrl",function(OPERATORS){function isOperator(btn){return OPERATORS.hasOwnProperty(btn)}var vm=this;vm.display="",vm.evalStr="",vm.pressed=function(btn){if("Error"===vm.display&&(vm.display=""),isOperator(btn)){if(isOperator(vm.display)||""===vm.display&&""===vm.evalStr||""===vm.display&&isOperator(vm.evalStr.slice(-1)))return;""!==vm.display&&(vm.display=(1*vm.display).toString()),vm.evalStr+="-"===vm.display.substring(0,1)?"("+vm.display+")":vm.display,vm.display=btn,vm.isResult=!1}else{if(""===vm.display&&vm.evalStr&&!isOperator(vm.evalStr.slice(-1)))return;isOperator(vm.display)?(vm.evalStr+=vm.display,vm.display=btn):"0"===vm.display||""===vm.display?vm.display=btn:vm.isResult?vm.display=btn:vm.display+=btn,vm.isResult=!1}},vm.decimal=function(){isOperator(vm.display)||(vm.isResult||""===vm.display?vm.display="0.":/\./g.test(vm.display)||(vm.display+="."),vm.isResult=!1)},vm.allClear=function(){vm.display="",vm.evalStr="",vm.isResult=!1},vm.clearEntry=function(){vm.display="",vm.isResult=!1},vm.equals=function(){if(!isOperator(vm.display)){vm.evalStr+="-"===vm.display.substring(0,1)?"("+vm.display+")":vm.display;try{vm.display=eval(vm.evalStr)+""}catch(e){vm.display="Error"}vm.evalStr="",vm.isResult=!0}},vm.negate=function(){isOperator(vm.display)||""===vm.display||(vm.display="-"===vm.display[0]?vm.display.substring(1):"-"+vm.display)}});